# 项目创建功能测试指南

## 测试步骤

### 1. 启动服务
```bash
# 启动后端服务
cd backend && npm run dev

# 启动前端服务
cd frontend && npm run dev
```

### 2. 访问项目创建页面
- 打开浏览器访问: `http://localhost:5176`
- 导航到项目创建页面

### 3. 填写基本信息
在第一步"基本信息"中：
- ✅ 输入项目名称（必填）
- ✅ 选择客户（必填）
- ✅ 选择联系人（必填）
- ✅ 填写客户嘱托（可选）

### 4. 选择服务项目
在第二步"任务列表"中：
- ✅ 选择至少一个服务项目
- ✅ 设置服务数量
- ✅ 选择价格政策（可选）

### 5. 确认订单信息
在第三步"订单信息"中：
- ✅ 确认项目信息
- ✅ 确认服务项目详情
- ✅ 确认金额计算

### 6. 测试保存功能
点击"保存项目"按钮：
- ✅ 应该弹出保存确认模态窗
- ✅ 显示项目信息概览
- ✅ 显示金额统计
- ✅ 提供两个选择：直接下单 / 暂存为临时订单

### 7. 测试不同保存方式
#### 直接下单
- 选择"直接下单"
- 项目状态应该设为"进行中" (`in-progress`)
- 应该创建对应的任务
- 跳转到项目列表

#### 暂存为临时订单
- 选择"暂存为临时订单"
- 项目状态应该设为"咨询中" (`consulting`)
- 应该创建对应的任务
- 跳转到项目列表

## 调试信息

如果遇到问题，请检查浏览器控制台的调试信息：

```javascript
// 保存按钮点击时的日志
console.log('保存按钮点击，表单数据:', values);
console.log('选中的服务项目:', selectedServices);

// 数据验证的日志
console.log('开始验证数据:', values);
console.log('验证失败: 项目名称为空'); // 或其他错误信息
console.log('数据验证通过');
console.log('数据验证通过，显示模态窗');
```

## 常见问题

### 1. 模态窗没有出现
**可能原因**：
- 表单数据验证失败
- 必填字段未填写完整

**解决方法**：
- 检查浏览器控制台的错误信息
- 确保所有必填字段都已填写
- 确保至少选择了一个服务项目

### 2. 提示"请输入项目名称"
**可能原因**：
- 项目名称字段为空或只包含空格
- 表单数据没有正确获取

**解决方法**：
- 重新输入项目名称
- 检查表单字段是否正确绑定

### 3. 提示"请选择客户"
**可能原因**：
- 客户下拉框没有选择
- 客户数据没有加载

**解决方法**：
- 确保后端服务正常运行
- 检查客户数据是否正确加载

### 4. 提示"请选择联系人"
**可能原因**：
- 没有选择联系人
- 联系人数据没有加载

**解决方法**：
- 先选择客户，然后选择联系人
- 确保联系人数据正确加载

### 5. 提示"请选择承接团队"
**可能原因**：
- 承接团队下拉框没有选择
- 企业数据没有加载

**解决方法**：
- 确保企业数据正确加载
- 选择承接团队

### 6. 提示"请选择主创设计师"
**可能原因**：
- 主创设计师没有选择
- 设计师数据没有加载

**解决方法**：
- 确保设计师数据正确加载
- 选择至少一个主创设计师

### 7. 提示"请选择至少一个服务项目"
**可能原因**：
- 没有选择服务项目
- 服务项目数据没有加载

**解决方法**：
- 确保服务项目数据正确加载
- 选择至少一个服务项目

## 验证成功的标志

当所有验证通过时，您应该看到：
1. 浏览器控制台显示"数据验证通过"
2. 保存确认模态窗正常弹出
3. 模态窗中显示完整的项目信息
4. 可以选择保存方式并成功创建项目

## 联系支持

如果仍然遇到问题，请：
1. 检查浏览器控制台的完整错误信息
2. 确认后端服务正常运行
3. 检查网络连接和数据加载状态 